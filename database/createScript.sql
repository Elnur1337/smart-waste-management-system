CREATE DATABASE swms CHARACTER SET "utf8mb4";
USE swms;
CREATE TABLE locations (
	id INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
	lat DECIMAL(9, 6) NOT NULL,
    lng DECIMAL(9, 6) NOT NULL,
    address VARCHAR(100) NOT NULL,
    locationDescription VARCHAR(100)
);

CREATE TABLE trashBins (
	id INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
    locationId INT NOT NULL,
    FOREIGN KEY (locationId) REFERENCES locations(id)
);

CREATE TABLE updates (
	id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
    trashBinId INT NOT NULL,
    fillLevel TINYINT NOT NULL,
    dateAndTime TIMESTAMP NOT NULL DEFAULT NOW()
);

CREATE TABLE pickups (
	id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
    dateAndTime TIMESTAMP NOT NULL DEFAULT NOW()
);

CREATE TABLE trashBinsInPickups (
	pickupId INT NOT NULL,
	trashBinId INT NOT NULL,
    PRIMARY KEY (pickUpId, trashBinId)
);